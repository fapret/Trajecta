function translatePage(lang) {
  const elements = document.querySelectorAll("[data-lang]");
  elements.forEach(el => {
    const key = el.getAttribute("data-lang");
    if (translations[lang] && translations[lang][key]) {
      el.textContent = translations[lang][key];
    }
  });
  document.documentElement.lang = lang;
  localStorage.setItem("lang", lang);
}

document.addEventListener("DOMContentLoaded", () => {
  const selector = document.getElementById("languageSelector");
  const savedLang = localStorage.getItem("lang") || "es";

  selector.value = savedLang;
  translatePage(savedLang);

  selector.addEventListener("change", () => {
    translatePage(selector.value);
  });
});

const translations = {
  es: {
    welcome: "¬°Bienvenido a Curr√≠cula App!",
    selectOption: "Seleccione una opci√≥n del men√∫ de la izquierda para comenzar.",
    createModel: "Crear/Expandir Modelo",
    addPlan: "Agregar Inscripci√≥n a plan",
    addCourse: "Agregar Inscripci√≥n a curso",
    addEvaluation: "Agregar Evaluaci√≥n",
    evalUC: "Evaluar Unidad Curricular",
    viewCurriculum: "Ver Curr√≠cula",
    getLog: "Obtener Log de Estudiantes",
    consultFaculty: "Consultar Facultad",
    consultPlan: "Consultar Plan",
    consultSubject: "Consultar Materia",
    consultUC: "Consultar Unidad Curricular",
    viewPlanCurriculum: "Ver Curr√≠cula de Plan",
    discover: "Descubrir",
    UCStats: "Estadisticas de UC",
    viewGraph: "Ver Diagramas",
    viewDocsEM: "Ver Documentaci√≥n (EM)",
    viewDocsPM: "Ver Documentaci√≥n (PM)",
    processMining: "MINERIA DE PROCESOS",
    student: "ESTUDIANTE",
    model: "MODELO",
    ci: "Cedula (Opcional):",
    faculty: "Facultad:",
    selectFaculty: "Seleccionar Facultad",
    selectCareer: "Seleccionar Carrera",
    selectPlan: "Seleccionar Plan",
    career: "Carrera:",
    plan: "Plan:",
    course: "Curso:",
    uc: "Unidad Curricular:",
    evalType: "Tipo evaluaci√≥n:",
    eval: "Evaluacion:",
    courseOpt: "Curso",
    examOpt: "Examen",
    partialOpt: "Parcial",
    selectUC: "Seleccionar Unidad Curricular",
    addEval: "Agregar Evaluacion",
    studentModel: "Modelo de Estudiantes:",
    addInsCourse: "Agregar inscripci√≥n a curso",
    addPlan: "Agregar Plan",
    baseModel: "Modelo Base (Opcional):",
    name: "Nombre:",
    ID: "CI:",
    downloadStudent: "Descargar Modelo Estudiante",
    evalPrev: "Evaluar previas",
    selectSubject: "Consultar Materia",
    seeCurricula: "Ver curr√≠cula",
    studentLog: "Log de estudiantes:",
    studentsCoursedUC: "Estudiantes cursaron la Unidad Curricular",
    discoverUUID: "UUID de Descubrimiento:",
    studentsDidExam: "Estudiantes dieron un examen",
    studentsExonerated: "Estudiantes exoneraron",
    studentsHaveCourse: "Estudiantes aprobaron el curso o exoneraron",
    seeStatistics: "Ver Estadisticas",
    seeDiagrams: "Ver Diagramas",
    seeDiagramDFG: "Ver Diagrama (DFG)",
    seeDiagramBPMN: "Ver Diagrama (BPMN)",
    seeDiagramPNA: "Ver Diagrama (PETRINET ALPHA MINER)",
    seeDiagramPNH: "Ver Diagrama (PETRINET HEURISTICS MINER)",
    seeDiagramPT: "Ver Diagrama (PROCESS TREE)",
    zoomIN: "‚ûï Agrandar",
    zoomOUT: "‚ûñ Achicar",
    ResetBtn: "üîÑ Resetear",
    addDegree: "Agregar Titulo",
    obtainedDate: "Fecha de obtenci√≥n:",
    inscriptionDate: "Fecha de inscripci√≥n:",
    deviationTable: "Tabla de desviaci√≥n"
  },
  en: {
    welcome: "Welcome to Curricula App!",
    selectOption: "Select an option from the left menu to get started.",
    createModel: "Create/Expand Model",
    addPlan: "Add Enrollment to Plan",
    addCourse: "Add Enrollment to Course",
    addEvaluation: "Add Evaluation",
    evalUC: "Evaluate Course Unit",
    viewCurriculum: "View Curriculum",
    getLog: "Get Student Log",
    consultFaculty: "Consult Faculty",
    consultPlan: "Consult Plan",
    consultSubject: "Consult Subject",
    consultUC: "Consult Course Unit",
    viewPlanCurriculum: "View Plan Curriculum",
    discover: "Discover",
    UCStats: "Statistics of Curricular Unit",
    viewGraph: "See Diagrams",
    viewDocsEM: "View Documentation (EM)",
    viewDocsPM: "View Documentation (PM)",
    processMining: "PROCESS MINING",
    student: "STUDENT",
    model: "MODEL",
    ci: "ID (Optional):",
    faculty: "Faculty:",
    selectFaculty: "Select Faculty",
    selectCareer: "Select Career",
    selectPlan: "Select Plan",
    career: "Career:",
    plan: "Plan:",
    course: "Course:",
    eval: "Evaluation:",
    uc: "Curricular Unit:",
    evalType: "Evaluation Type:",
    courseOpt: "Course",
    examOpt: "Exam",
    partialOpt: "Partial",
    selectUC: "Select Curricular Unit",
    addEval: "Add Evaluation",
    studentModel: "Student Model:",
    addInsCourse: "Add inscription to course",
    addPlan: "Add Plan",
    baseModel: "Base Model (Optional):",
    name: "Name:",
    ID: "ID:",
    downloadStudent: "Download Student Model",
    evalPrev: "Evaluate previatures",
    selectSubject: "Select Subject",
    seeCurricula: "See Curriculum",
    studentLog: "Students Log:",
    studentsCoursedUC: "Student coursed the Curricular Unit",
    discoverUUID: "Discover UUID:",
    studentsDidExam: "Students made an exam",
    studentsExonerated: "Students exonerated the Curricular Unit",
    studentsHaveCourse: "Students have the course approved or exonerated",
    seeStatistics: "See Statistics",
    seeDiagrams: "See Diagrams",
    seeDiagramDFG: "See Diagram (DFG)",
    seeDiagramBPMN: "See Diagram (BPMN)",
    seeDiagramPNA: "See Diagram (PETRINET ALPHA MINER)",
    seeDiagramPNH: "See Diagram (PETRINET HEURISTICS MINER)",
    seeDiagramPT: "See Diagram (PROCESS TREE)",
    zoomIN: "‚ûï Zoom In",
    zoomOUT: "‚ûñ Zoom Out",
    ResetBtn: "üîÑ Reset",
    addDegree: "Add Degree",
    obtainedDate: "Obtained Date",
    inscriptionDate: "Date of Inscription:",
    deviationTable: "Deviation Table"
  }
};